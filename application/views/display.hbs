<!DOCTYPE html>
<head>
<title>Image Gallery</title>
<style>
div.gallery {
margin: 5px;
border: 1px solid #ccc;
float: left;
width: 280px;
}

div.gallery:hover {
border: 1px solid #777;
}

div.gallery img {
width: 100%;
height: auto;
}

div.desc {
padding: 15px;
text-align: center;
}
</style>
</head>
<html>
<body>
<h2>There are</h2>

<div id="count">
<button type="button" onclick="loadXMLDoc()">
Click to display Images
</button>
</div>
<div id="demo"></div>

<script>

var num;
function loadXMLDoc() {
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function () {
if (this.readyState == 4 && this.status == 200) {
var x = JSON.parse(this.responseText);
num = x.length;
document.getElementById("count").innerHTML = `${num} Photos being shown`; // updating th image count

x.forEach((obj) => {
document.getElementById(
"demo"
).innerHTML += `<div id=${obj.id} class="gallery" onclick="fadeOut(${obj.id})">
<img
src=${obj.url}
width="600"
height="400"
/>
<div class="desc">${obj.title}</div>
</div>`;
});
}
};

xhttp.open(
"GET",
"https://jsonplaceholder.typicode.com/albums/2/photos",
true
);
xhttp.send();
}

function fadeOut(id) {
var element = document.getElementById(id);
var op = 1;
var timer = setInterval(function () {
if (op <= 0.1) {
clearInterval(timer);
element.remove(); 
num--; 
document.getElementById(
"count"
).innerHTML = `<div>${num} Photos</div>`; 
}
element.style.opacity = op;
op -= 0.1;
}, 50);
}
</script>
</html>
